{% extends "layout.html" %}

{% block title %}{% endblock %}

{% block content %}

<h2>{{ disc.title }}</h2>
<form method="post" >
  <label>
    Title
    <input name="title" value="{{ disc.title }}" required>
  </label>
  <label>
    Language
    <select name="lang" required="">
      <option value="csharp" {{ 'selected' if disc.lang == 'csharp' else '' }}>C#</option>
      <option value="javascript" {{ 'selected' if disc.lang == 'javascript' else '' }}>Javascript</option>
      <option value="python" {{ 'selected' if disc.lang == 'python' else '' }}>Python</option>
    </select>
  </label>
  <table>
    <tr>
      <td>Head</td>
      <td>Text</td>
      <td>Link</td>
      <td>Body</td>
      <td>Back</td>
      <td>Aux</td>
    </tr>
    <tr>
      <td><input type="color" name="header" value="{{colors['header']}}"></td>
      <td><input type="color" name="text" value="{{colors['text']}}"></td>
      <td><input type="color" name="link" value="{{colors['link']}}"></td>
      <td><input type="color" name="body" value="{{colors['body']}}"></td>
      <td><input type="color" name="bg" value="{{colors['bg']}}"></td>      
      <td><input type="color" name="aux" value="{{colors['aux']}}"></td>  
    </tr>
  </table>

  <footer class="grid">
    <button type="submit" >Save</button>
    <a href="/disc/list" role="button" class="secondary">To Index</a>
    <button id="colors_button" style="width: 100px;">Colors</button>
  </footer>      
</form>

<script>
  const COLORS = [
    {name: "aaa", "body": "#ffffff", "header": "#030018", "text": "#0A002A", "bg": "#f6fcb0", "link": "#9df33f", "aux": "#DEDAFF"},
    {name: "bbb", "body": "#ffffff", "header": "#090D3C", "text": "#27175D", "bg": "#FAF8ED", "link": "#a7e04b", "aux": "#B7A1D8"},
    {name: "ccc", "body": "#ffffff", "header": "#5553c2", "text": "#000047", "bg": "#EFF6F8", "link": "#c3ec77", "aux": "#B5C1F1"},
    {name: "ddd", "body": "#ffffff", "header": "#b2d66f", "text": "#000047", "bg": "#F5F5FB", "link": "#e1b357", "aux": "#B3B7E5"},
    {name: "eee", "body": "#ffffff", "header": "#000000", "text": "#000000", "bg": "#F5EFE9", "link": "#e0c136", "aux": "#D6B9A8"},
    {name: "fff", "body": "#ffffff", "header": "#000024", "text": "#00000A", "bg": "#FBF6F6", "link": "#d8eb6c", "aux": "#D0E0FE"},
    {name: "ggg", "body": "#ffffff", "header": "#030018", "text": "#0A002A", "bg": "#ecf6fc", "link": "#9df33f", "aux": "#DEDAFF"}
  ]

  let colors_button = document.getElementById("colors_button");
  let color_idx = 0;
  
  // Перебирає набори кольорів
  colors_button.addEventListener("click", (e) => {
      e.preventDefault();

      for (let el_name of ["body", "header", "text", "bg", "link", "aux"])  {
        let el = document.getElementsByName(el_name)[0]
        el.value = COLORS[color_idx][el_name]
      }
      colors_button.innerHTML = COLORS[color_idx].name;
      color_idx = (color_idx + 1) % COLORS.length;
  })
</script>
{% endblock %}