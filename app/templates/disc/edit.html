{% extends "layout.html" %}

{% block title %}{% endblock %}

{% block content %}

<h2>{{ disc.title }}</h2>
<form method="post" >
  <label>
    Title
    <input name="title" value="{{ disc.title }}" required>
  </label>
  <label>
    Language
    <select name="lang" required="">
      <option value="csharp" {{ 'selected' if disc.lang == 'csharp' else '' }}>C#</option>
      <option value="javascript" {{ 'selected' if disc.lang == 'javascript' else '' }}>Javascript</option>
      <option value="python" {{ 'selected' if disc.lang == 'python' else '' }}>Python</option>
    </select>
  </label>
  <table>
    <tr>
      <td>Head</td>
      <td>Text</td>
      <td>Link</td>
      <td>Body</td>
      <td>Back</td>
      <td>Aux</td>
    </tr>
    <tr>
      <td><input type="color" name="header" value="{{colors['header']}}"></td>
      <td><input type="color" name="text" value="{{colors['text']}}"></td>
      <td><input type="color" name="link" value="{{colors['link']}}"></td>
      <td><input type="color" name="body" value="{{colors['body']}}"></td>
      <td><input type="color" name="bg" value="{{colors['bg']}}"></td>      
      <td><input type="color" name="aux" value="{{colors['aux']}}"></td>  
    </tr>
  </table>

  <footer class="grid">
    <button type="submit" >Save</button>
    <a href="/disc/list" role="button" class="secondary">To Index</a>
    <button id="colors_button" style="width: 100px;">Colors</button>
  </footer>      
</form>

<script>
  
const COLORS = [
    { "body": "#edf2f8", "header": "#0000ff", "text": "#000080", "bg": "#e6eef5", "link": "#d3589b", "aux": "#d3589b" },
    { "body": "#FF0000", "header": "#0000ff", "text": "#000080", "bg": "#e6eef5", "link": "#d3589b", "aux": "#d3589b" },
    { "body": "#00FF00", "header": "#0000ff", "text": "#000080", "bg": "#e6eef5", "link": "#d3589b", "aux": "#d3589b" },
    { "body": "#0000FF", "header": "#0000ff", "text": "#000080", "bg": "#e6eef5", "link": "#d3589b", "aux": "#d3589b" },
  ]
  let color_idx = 0;

  document.getElementById("colors_button").addEventListener("click", (e) => {
      e.preventDefault()

      for (let name of ["body", "header", "text", "bg", "link", "aux"])  {
        let el = document.getElementsByName(name)[0]
        el.value = COLORS[color_idx][name]
      }
      color_idx = (color_idx + 1) % COLORS.length;
  })
</script>
{% endblock %}